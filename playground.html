<script src="https://maps.google.com/maps/api/js?key=AIzaSyAGL_Xc8z1fTp8Na-stxE9u8ihnjEbkbbA"></script>
<script src="game-lib.js"></script>

<div id="google_map" style="width:1600px; height:900px"></div>

<script>

// listen to div

document.getElementById("google_map").addEventListener("keydown", keyfunc);

centlat = 36.1041666666;
centlon = -5.5458333333;

var myLatLng = new google.maps.LatLng(centlat, centlon);
var myOptions = {zoom: 10, center: myLatLng,
		 mapTypeId: google.maps.MapTypeId.ROADMAP, scaleControl: true,
		 rotateControl: true, overviewMapControl: true};
var map = new google.maps.Map(document.getElementById("google_map"), myOptions);

delta = 360/43200.;

count = 0;
rect = [];

// TODO: make these numbers bigger later

for (i=-25; i<=25; i++) {
  for (j=-25; j<=25; j++) {
    r = toHex(Math.floor(Math.random()*256));
    g = toHex(Math.floor(Math.random()*256));
    b = toHex(Math.floor(Math.random()*256));
    col = '#'+r+g+b;
    rect[count++] = new google.maps.Rectangle({strokeOpacity: 0, 
  fillColor: col, map: map, 
  fillOpacity: 0.5, bounds: {north: centlat+i*delta,
  south: centlat+(i-1)*delta, east: centlon+j*delta, 
  west: centlon+(j-1)*delta}});
  }
}

function keyfunc(e) {

  o = rect[0].fillOpacity;
  console.log(o);

  for (i=0; i < rect.length; i++) {
     rect[i].setOptions({fillOpacity: o+0.1});
  }


}

</script>

